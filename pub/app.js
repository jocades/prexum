var Y=function(a,s){for(var e in s)a[e]=s[e];return a},Ss=function(a){var s=a.parentNode;s&&s.removeChild(a)},Is=function(a,s,e){var p,b,d,w={};for(d in s)d=="key"?p=s[d]:d=="ref"?b=s[d]:w[d]=s[d];if(arguments.length>2&&(w.children=arguments.length>3?f.call(arguments,2):e),typeof a=="function"&&a.defaultProps!=null)for(d in a.defaultProps)w[d]===void 0&&(w[d]=a.defaultProps[d]);return z(a,w,p,b,null)},z=function(a,s,e,p,b){var d={type:a,props:s,key:e,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:b==null?++xs:b,__i:-1,__u:0};return b==null&&N.vnode!=null&&N.vnode(d),d};var D=function(a){return a.children},T=function(a,s){this.props=a,this.context=s},c=function(a,s){if(s==null)return a.__?c(a.__,a.__i+1):null;for(var e;s<a.__k.length;s++)if((e=a.__k[s])!=null&&e.__e!=null)return e.__e;return typeof a.type=="function"?c(a):null},vs=function(a){var s,e;if((a=a.__)!=null&&a.__c!=null){for(a.__e=a.__c.base=null,s=0;s<a.__k.length;s++)if((e=a.__k[s])!=null&&e.__e!=null){a.__e=a.__c.base=e.__e;break}return vs(a)}},ps=function(a){(!a.__d&&(a.__d=!0)&&Z.push(a)&&!$.__r++||ms!==N.debounceRendering)&&((ms=N.debounceRendering)||gs)($)},$=function(){var a,s,e,p,b,d,w,x;for(Z.sort(_);a=Z.shift();)a.__d&&(s=Z.length,p=void 0,d=(b=(e=a).__v).__e,w=[],x=[],e.__P&&((p=Y({},b)).__v=b.__v+1,N.vnode&&N.vnode(p),l(e.__P,p,b,e.__n,e.__P.namespaceURI,32&b.__u?[d]:null,w,d==null?c(b):d,!!(32&b.__u),x),p.__v=b.__v,p.__.__k[p.__i]=p,Ns(w,p,x),p.__e!=d&&vs(p)),Z.length>s&&Z.sort(_));$.__r=0},Es=function(a,s,e,p,b,d,w,x,S,g,E){var m,J,v,A,H,B=p&&p.__k||ws,W=s.length;for(e.__d=S,Us(e,s,B),S=e.__d,m=0;m<W;m++)(v=e.__k[m])!=null&&typeof v!="boolean"&&typeof v!="function"&&(J=v.__i===-1?R:B[v.__i]||R,v.__i=m,l(a,v,J,b,d,w,x,S,g,E),A=v.__e,v.ref&&J.ref!=v.ref&&(J.ref&&u(J.ref,null,v),E.push(v.ref,v.__c||A,v)),H==null&&A!=null&&(H=A),65536&v.__u||J.__k===v.__k?S=Js(v,S,a):typeof v.type=="function"&&v.__d!==void 0?S=v.__d:A&&(S=A.nextSibling),v.__d=void 0,v.__u&=-196609);e.__d=S,e.__e=H},Us=function(a,s,e){var p,b,d,w,x,S=s.length,g=e.length,E=g,m=0;for(a.__k=[],p=0;p<S;p++)w=p+m,(b=a.__k[p]=(b=s[p])==null||typeof b=="boolean"||typeof b=="function"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"||b.constructor==String?z(null,b,null,null,null):r(b)?z(D,{children:b},null,null,null):b.constructor===void 0&&b.__b>0?z(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null?(b.__=a,b.__b=a.__b+1,x=Vs(b,e,w,E),b.__i=x,d=null,x!==-1&&(E--,(d=e[x])&&(d.__u|=131072)),d==null||d.__v===null?(x==-1&&m--,typeof b.type!="function"&&(b.__u|=65536)):x!==w&&(x==w-1?m--:x==w+1?m++:x>w?E>S-w?m+=x-w:m--:x<w&&(x==w-m?m-=x-w:m++),x!==p+m&&(b.__u|=65536))):(d=e[w])&&d.key==null&&d.__e&&(131072&d.__u)==0&&(d.__e==a.__d&&(a.__d=c(d)),i(d,d,!1),e[w]=null,E--);if(E)for(p=0;p<g;p++)(d=e[p])!=null&&(131072&d.__u)==0&&(d.__e==a.__d&&(a.__d=c(d)),i(d,d))},Js=function(a,s,e){var p,b;if(typeof a.type=="function"){for(p=a.__k,b=0;p&&b<p.length;b++)p[b]&&(p[b].__=a,s=Js(p[b],s,e));return s}a.__e!=s&&(s&&a.type&&!e.contains(s)&&(s=c(a)),e.insertBefore(a.__e,s||null),s=a.__e);do s=s&&s.nextSibling;while(s!=null&&s.nodeType===8);return s};var Vs=function(a,s,e,p){var{key:b,type:d}=a,w=e-1,x=e+1,S=s[e];if(S===null||S&&b==S.key&&d===S.type&&(131072&S.__u)==0)return e;if(p>(S!=null&&(131072&S.__u)==0?1:0))for(;w>=0||x<s.length;){if(w>=0){if((S=s[w])&&(131072&S.__u)==0&&b==S.key&&d===S.type)return w;w--}if(x<s.length){if((S=s[x])&&(131072&S.__u)==0&&b==S.key&&d===S.type)return x;x++}}return-1},bs=function(a,s,e){s[0]==="-"?a.setProperty(s,e==null?"":e):a[s]=e==null?"":typeof e!="number"||Fs.test(s)?e:e+"px"},V=function(a,s,e,p,b){var d;s:if(s==="style")if(typeof e=="string")a.style.cssText=e;else{if(typeof p=="string"&&(a.style.cssText=p=""),p)for(s in p)e&&s in e||bs(a.style,s,"");if(e)for(s in e)p&&e[s]===p[s]||bs(a.style,s,e[s])}else if(s[0]==="o"&&s[1]==="n")d=s!==(s=s.replace(/(PointerCapture)$|Capture$/i,"$1")),s=s.toLowerCase()in a||s==="onFocusOut"||s==="onFocusIn"?s.toLowerCase().slice(2):s.slice(2),a.l||(a.l={}),a.l[s+d]=e,e?p?e.u=p.u:(e.u=t,a.addEventListener(s,d?h:o,d)):a.removeEventListener(s,d?h:o,d);else{if(b=="http://www.w3.org/2000/svg")s=s.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(s!="width"&&s!="height"&&s!="href"&&s!="list"&&s!="form"&&s!="tabIndex"&&s!="download"&&s!="rowSpan"&&s!="colSpan"&&s!="role"&&s!="popover"&&s in a)try{a[s]=e==null?"":e;break s}catch(w){}typeof e=="function"||(e==null||e===!1&&s[4]!=="-"?a.removeAttribute(s):a.setAttribute(s,s=="popover"&&e==1?"":e))}},ds=function(a){return function(s){if(this.l){var e=this.l[s.type+a];if(s.t==null)s.t=t++;else if(s.t<e.u)return;return e(N.event?N.event(s):s)}}},l=function(a,s,e,p,b,d,w,x,S,g){var E,m,J,v,A,H,B,W,X,G,Q,F,L,es,I,k,K=s.type;if(s.constructor!==void 0)return null;128&e.__u&&(S=!!(32&e.__u),d=[x=s.__e=e.__e]),(E=N.__b)&&E(s);s:if(typeof K=="function")try{if(W=s.props,X="prototype"in K&&K.prototype.render,G=(E=K.contextType)&&p[E.__c],Q=E?G?G.props.value:E.__:p,e.__c?B=(m=s.__c=e.__c).__=m.__E:(X?s.__c=m=new K(W,Q):(s.__c=m=new T(W,Q),m.constructor=K,m.render=Ts),G&&G.sub(m),m.props=W,m.state||(m.state={}),m.context=Q,m.__n=p,J=m.__d=!0,m.__h=[],m._sb=[]),X&&m.__s==null&&(m.__s=m.state),X&&K.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Y({},m.__s)),Y(m.__s,K.getDerivedStateFromProps(W,m.__s))),v=m.props,A=m.state,m.__v=s,J)X&&K.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),X&&m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(X&&K.getDerivedStateFromProps==null&&W!==v&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(W,Q),!m.__e&&(m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(W,m.__s,Q)===!1||s.__v===e.__v)){for(s.__v!==e.__v&&(m.props=W,m.state=m.__s,m.__d=!1),s.__e=e.__e,s.__k=e.__k,s.__k.forEach(function(U){U&&(U.__=s)}),F=0;F<m._sb.length;F++)m.__h.push(m._sb[F]);m._sb=[],m.__h.length&&w.push(m);break s}m.componentWillUpdate!=null&&m.componentWillUpdate(W,m.__s,Q),X&&m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(v,A,H)})}if(m.context=Q,m.props=W,m.__P=a,m.__e=!1,L=N.__r,es=0,X){for(m.state=m.__s,m.__d=!1,L&&L(s),E=m.render(m.props,m.state,m.context),I=0;I<m._sb.length;I++)m.__h.push(m._sb[I]);m._sb=[]}else do m.__d=!1,L&&L(s),E=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++es<25);m.state=m.__s,m.getChildContext!=null&&(p=Y(Y({},p),m.getChildContext())),X&&!J&&m.getSnapshotBeforeUpdate!=null&&(H=m.getSnapshotBeforeUpdate(v,A)),Es(a,r(k=E!=null&&E.type===D&&E.key==null?E.props.children:E)?k:[k],s,e,p,b,d,w,x,S,g),m.base=s.__e,s.__u&=-161,m.__h.length&&w.push(m),B&&(m.__E=m.__=null)}catch(U){if(s.__v=null,S||d!=null){for(s.__u|=S?160:32;x&&x.nodeType===8&&x.nextSibling;)x=x.nextSibling;d[d.indexOf(x)]=null,s.__e=x}else s.__e=e.__e,s.__k=e.__k;N.__e(U,s,e)}else d==null&&s.__v===e.__v?(s.__k=e.__k,s.__e=e.__e):s.__e=zs(e.__e,s,e,p,b,d,w,S,g);(E=N.diffed)&&E(s)},Ns=function(a,s,e){s.__d=void 0;for(var p=0;p<e.length;p++)u(e[p],e[++p],e[++p]);N.__c&&N.__c(s,a),a.some(function(b){try{a=b.__h,b.__h=[],a.some(function(d){d.call(b)})}catch(d){N.__e(d,b.__v)}})},zs=function(a,s,e,p,b,d,w,x,S){var g,E,m,J,v,A,H,B=e.props,W=s.props,X=s.type;if(X==="svg"?b="http://www.w3.org/2000/svg":X==="math"?b="http://www.w3.org/1998/Math/MathML":b||(b="http://www.w3.org/1999/xhtml"),d!=null){for(g=0;g<d.length;g++)if((v=d[g])&&"setAttribute"in v==!!X&&(X?v.localName===X:v.nodeType===3)){a=v,d[g]=null;break}}if(a==null){if(X===null)return document.createTextNode(W);a=document.createElementNS(b,X,W.is&&W),d=null,x=!1}if(X===null)B===W||x&&a.data===W||(a.data=W);else{if(d=d&&f.call(a.childNodes),B=e.props||R,!x&&d!=null)for(B={},g=0;g<a.attributes.length;g++)B[(v=a.attributes[g]).name]=v.value;for(g in B)if(v=B[g],g=="children");else if(g=="dangerouslySetInnerHTML")m=v;else if(g!=="key"&&!(g in W)){if(g=="value"&&"defaultValue"in W||g=="checked"&&"defaultChecked"in W)continue;V(a,g,null,v,b)}for(g in W)v=W[g],g=="children"?J=v:g=="dangerouslySetInnerHTML"?E=v:g=="value"?A=v:g=="checked"?H=v:g==="key"||x&&typeof v!="function"||B[g]===v||V(a,g,v,B[g],b);if(E)x||m&&(E.__html===m.__html||E.__html===a.innerHTML)||(a.innerHTML=E.__html),s.__k=[];else if(m&&(a.innerHTML=""),Es(a,r(J)?J:[J],s,e,p,X==="foreignObject"?"http://www.w3.org/1999/xhtml":b,d,w,d?d[0]:e.__k&&c(e,0),x,S),d!=null)for(g=d.length;g--;)d[g]!=null&&Ss(d[g]);x||(g="value",A!==void 0&&(A!==a[g]||X==="progress"&&!A||X==="option"&&A!==B[g])&&V(a,g,A,B[g],b),g="checked",H!==void 0&&H!==a[g]&&V(a,g,H,B[g],b))}return a},u=function(a,s,e){try{if(typeof a=="function"){var p=typeof a.__u=="function";p&&a.__u(),p&&s==null||(a.__u=a(s))}else a.current=s}catch(b){N.__e(b,e)}},i=function(a,s,e){var p,b;if(N.unmount&&N.unmount(a),(p=a.ref)&&(p.current&&p.current!==a.__e||u(p,null,s)),(p=a.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(d){N.__e(d,s)}p.base=p.__P=null}if(p=a.__k)for(b=0;b<p.length;b++)p[b]&&i(p[b],s,e||typeof a.type!="function");e||a.__e==null||Ss(a.__e),a.__c=a.__=a.__e=a.__d=void 0},Ts=function(a,s,e){return this.constructor(a,e)},Os=function(a,s,e){var p,b,d,w;N.__&&N.__(a,s),b=(p=typeof e=="function")?null:e&&e.__k||s.__k,d=[],w=[],l(s,a=(!p&&e||s).__k=Is(D,null,[a]),b||R,R,s.namespaceURI,!p&&e?[e]:b?null:s.firstChild?f.call(s.childNodes):null,d,!p&&e?e:b?b.__e:s.firstChild,p,w),Ns(d,a,w)};var f,N,xs,qs,Z,ms,gs,_,t,o,h,Cs,R={},ws=[],Fs=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,r=Array.isArray;f=ws.slice,N={__e:function(a,s,e,p){for(var b,d,w;s=s.__;)if((b=s.__c)&&!b.__)try{if((d=b.constructor)&&d.getDerivedStateFromError!=null&&(b.setState(d.getDerivedStateFromError(a)),w=b.__d),b.componentDidCatch!=null&&(b.componentDidCatch(a,p||{}),w=b.__d),w)return b.__E=b}catch(x){a=x}throw a}},xs=0,qs=function(a){return a!=null&&a.constructor==null},T.prototype.setState=function(a,s){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Y({},this.state),typeof a=="function"&&(a=a(Y({},e),this.props)),a&&Y(e,a),a!=null&&this.__v&&(s&&this._sb.push(s),ps(this))},T.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),ps(this))},T.prototype.render=D,Z=[],gs=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_=function(a,s){return a.__v.__b-s.__v.__b},$.__r=0,t=0,o=ds(!1),h=ds(!0),Cs=0;var as=function(a,s){y.__h&&y.__h(j,a,M||s),M=0;var e=j.__H||(j.__H={__:[],__h:[]});return a>=e.__.length&&e.__.push({}),e.__[a]},C=function(a){return M=1,$s(Ds,a)},$s=function(a,s,e){var p=as(q++,2);if(p.t=a,!p.__c&&(p.__=[e?e(s):Ds(void 0,s),function(x){var S=p.__N?p.__N[0]:p.__[0],g=p.t(S,x);S!==g&&(p.__N=[g,p.__[1]],p.__c.setState({}))}],p.__c=j,!j.u)){var b=function(x,S,g){if(!p.__c.__H)return!0;var E=p.__c.__H.__.filter(function(J){return!!J.__c});if(E.every(function(J){return!J.__N}))return!d||d.call(this,x,S,g);var m=!1;return E.forEach(function(J){if(J.__N){var v=J.__[0];J.__=J.__N,J.__N=void 0,v!==J.__[0]&&(m=!0)}}),!(!m&&p.__c.props===x)&&(!d||d.call(this,x,S,g))};j.u=!0;var{shouldComponentUpdate:d,componentWillUpdate:w}=j;j.componentWillUpdate=function(x,S,g){if(this.__e){var E=d;d=void 0,b(x,S,g),d=E}w&&w.call(this,x,S,g)},j.shouldComponentUpdate=b}return p.__N||p.__},Ys=function(a,s){var e=as(q++,3);!y.__s&&cs(e.__H,s)&&(e.__=a,e.i=s,j.__H.__h.push(e))};var Zs=function(a){return M=5,fs(function(){return{current:a}},[])};var fs=function(a,s){var e=as(q++,7);return cs(e.__H,s)&&(e.__=a(),e.__H=s,e.__h=a),e.__};var Ps=function(){for(var a;a=Qs.shift();)if(a.__P&&a.__H)try{a.__H.__h.forEach(P),a.__H.__h.forEach(ss),a.__H.__h=[]}catch(s){a.__H.__h=[],y.__e(s,a.__v)}},Ms=function(a){var s,e=function(){clearTimeout(p),Ks&&cancelAnimationFrame(s),setTimeout(a)},p=setTimeout(e,100);Ks&&(s=requestAnimationFrame(e))},P=function(a){var s=j,e=a.__c;typeof e=="function"&&(a.__c=void 0,e()),j=s},ss=function(a){var s=j;a.__c=a.__(),j=s},cs=function(a,s){return!a||a.length!==s.length||s.some(function(e,p){return e!==a[p]})},Ds=function(a,s){return typeof s=="function"?s(a):s},q,j,n,Ws,M=0,Qs=[],y=N,Xs=y.__b,js=y.__r,ys=y.diffed,As=y.__c,Bs=y.unmount,Hs=y.__;y.__b=function(a){j=null,Xs&&Xs(a)},y.__=function(a,s){a&&s.__k&&s.__k.__m&&(a.__m=s.__k.__m),Hs&&Hs(a,s)},y.__r=function(a){js&&js(a),q=0;var s=(j=a.__c).__H;s&&(n===j?(s.__h=[],j.__h=[],s.__.forEach(function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0})):(s.__h.forEach(P),s.__h.forEach(ss),s.__h=[],q=0)),n=j},y.diffed=function(a){ys&&ys(a);var s=a.__c;s&&s.__H&&(s.__H.__h.length&&(Qs.push(s)!==1&&Ws===y.requestAnimationFrame||((Ws=y.requestAnimationFrame)||Ms)(Ps)),s.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.i=void 0})),n=j=null},y.__c=function(a,s){s.some(function(e){try{e.__h.forEach(P),e.__h=e.__h.filter(function(p){return!p.__||ss(p)})}catch(p){s.some(function(b){b.__h&&(b.__h=[])}),s=[],y.__e(p,e.__v)}}),As&&As(a,s)},y.unmount=function(a){Bs&&Bs(a);var s,e=a.__c;e&&e.__H&&(e.__H.__.forEach(function(p){try{P(p)}catch(b){s=b}}),e.__H=void 0,s&&y.__e(s,e.__v))};var Ks=typeof requestAnimationFrame=="function";var _s=function(){const[a,s]=C(),[e,p]=C([]),[b,d]=C(!1),[w,x]=C(),S=Zs(null),g=async()=>{const m=await fetch("/api/stats");s(await m.json())};Ys(()=>{Gs.onopen=()=>{console.log("Connected")},Gs.onmessage=(m)=>{p(JSON.parse(m.data))},g()},[]);async function E(){if(!S.current?.value?.trim())return;if(b){x("Already bombing, wait...");return}d(!0),x("Bombing...");const m=await fetch("/api/bombardier",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({password:S.current.value})});x(await m.text()),d(!1)}return O("main",{class:"flex flex-col container mx-auto max-w-xl py-24",children:[O("h1",{class:"text-6xl font-bold tracking-tight mb-12 self-center",children:"Raspi @ Sapla"}),O(os,{children:O("div",{class:"flex flex-col space-y-8 p-6",children:[O("section",{class:"flex flex-col gap-y-1",children:[O(Ls,{children:"System"}),a&&Object.entries(a).map(([m,J])=>O("div",{class:"flex justify-between",children:[O("span",{class:"text-muted-foreground",children:[m,":"]}),O("span",{children:J})]}))]}),O("section",{class:"flex flex-col gap-y-2",children:[O(Ls,{children:"Usage"}),e.map((m,J)=>O("div",{class:"flex flex-col",children:[O("div",{class:"flex text-muted-foreground text-sm mb-1 justify-between",children:["Core ",J,O("span",{children:[m.toFixed(2),"%"]})]}),O("div",{class:"relative flex h-4 items-center justify-center bg-primary/20 rounded-full overflow-hidden",children:O("div",{class:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(m||0)}%)`}})})]}))]}),O("section",{children:[O("form",{class:"flex items-center space-x-2",onSubmit:async(m)=>{m.preventDefault(),await E()},children:[O("button",{className:"flex items-center justify-center px-4 py-2 rounded-md bg-primary text-primary-foreground hover:bg-primary/80",children:"Bombardier"}),O("input",{ref:S,class:"flex rounded-md px-4 py-2 border",type:"password",placeholder:"Password"})]}),O("pre",{class:"text-sm mt-2 overflow-auto",children:w})]})]})})]})},Rs=function(...a){return a.filter(Boolean).join(" ")},os=function({className:a,...s}){return O("div",{className:Rs("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})},Ls=function({className:a,...s}){return O("h3",{className:Rs("text-2xl font-semibold leading-none tracking-tight mb-4",a),...s})};var O=function(a,s,e,p,b,d){s||(s={});var w,x,S=s;if("ref"in S)for(x in S={},s)x=="ref"?w=s[x]:S[x]=s[x];var g={type:a,props:S,key:e,ref:w,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ks,__i:-1,__u:0,__source:b,__self:d};if(typeof a=="function"&&(w=a.defaultProps))for(x in w)S[x]===void 0&&(S[x]=w[x]);return N.vnode&&N.vnode(g),g};var ks=0,ls=Array.isArray;var Gs=new WebSocket("/ws");Os(O(_s,{}),document.body);
